#!/usr/bin/env node
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.app = void 0;
require("source-map-support/register");
const cdk = require("aws-cdk-lib");
const queue_stack_1 = require("../lib/queue-stack");
const fs_1 = require("fs");
const path_1 = require("path");
const cdk_nag_1 = require("cdk-nag");
const aws_cdk_lib_1 = require("aws-cdk-lib");
const params = JSON.parse((0, fs_1.readFileSync)((0, path_1.resolve)(__dirname, '../', 'parameters.json')).toString());
exports.app = new cdk.App();
const queueStack = new queue_stack_1.QueueStack(exports.app, 'queue-stack', {
    params: params,
    env: { account: params["account"], region: params["region"] },
});
aws_cdk_lib_1.Aspects.of(exports.app).add(new cdk_nag_1.AwsSolutionsChecks({ verbose: true }));
cdk.Tags.of(queueStack).add('KitId', params["kitId"]);
cdk.Tags.of(queueStack).add('AppKey', params["appKey"]);
cdk.Tags.of(queueStack).add('CreatedBy', params["businessName"]);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicXVldWUuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyJxdWV1ZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7O0FBQ0EsdUNBQXFDO0FBQ3JDLG1DQUFtQztBQUNuQyxvREFBZ0Q7QUFDaEQsMkJBQWtDO0FBQ2xDLCtCQUErQjtBQUMvQixxQ0FBNEM7QUFDNUMsNkNBQXNDO0FBRXRDLE1BQU0sTUFBTSxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBQSxpQkFBWSxFQUFDLElBQUEsY0FBTyxFQUFDLFNBQVMsRUFBRSxLQUFLLEVBQUUsaUJBQWlCLENBQUMsQ0FBQyxDQUFDLFFBQVEsRUFBRSxDQUFDLENBQUM7QUFFcEYsUUFBQSxHQUFHLEdBQUcsSUFBSSxHQUFHLENBQUMsR0FBRyxFQUFFLENBQUM7QUFDakMsTUFBTSxVQUFVLEdBQUcsSUFBSSx3QkFBVSxDQUFDLFdBQUcsRUFBRSxhQUFhLEVBQUU7SUFDcEQsTUFBTSxFQUFFLE1BQU07SUFDZCxHQUFHLEVBQUUsRUFBRSxPQUFPLEVBQUUsTUFBTSxDQUFDLFNBQVMsQ0FBQyxFQUFFLE1BQU0sRUFBRSxNQUFNLENBQUMsUUFBUSxDQUFDLEVBQUU7Q0FDOUQsQ0FBQyxDQUFDO0FBRUgscUJBQU8sQ0FBQyxFQUFFLENBQUMsV0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLElBQUksNEJBQWtCLENBQUMsRUFBRSxPQUFPLEVBQUUsSUFBSSxFQUFFLENBQUMsQ0FBQyxDQUFBO0FBRTlELEdBQUcsQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDLFVBQVUsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxPQUFPLEVBQUUsTUFBTSxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUM7QUFDdEQsR0FBRyxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsVUFBVSxDQUFDLENBQUMsR0FBRyxDQUFDLFFBQVEsRUFBRSxNQUFNLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQztBQUN4RCxHQUFHLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxVQUFVLENBQUMsQ0FBQyxHQUFHLENBQUMsV0FBVyxFQUFFLE1BQU0sQ0FBQyxjQUFjLENBQUMsQ0FBQyxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiIyEvdXNyL2Jpbi9lbnYgbm9kZVxuaW1wb3J0ICdzb3VyY2UtbWFwLXN1cHBvcnQvcmVnaXN0ZXInO1xuaW1wb3J0ICogYXMgY2RrIGZyb20gJ2F3cy1jZGstbGliJztcbmltcG9ydCB7IFF1ZXVlU3RhY2sgfSBmcm9tICcuLi9saWIvcXVldWUtc3RhY2snO1xuaW1wb3J0IHsgcmVhZEZpbGVTeW5jIH0gZnJvbSAnZnMnO1xuaW1wb3J0IHsgcmVzb2x2ZSB9IGZyb20gJ3BhdGgnO1xuaW1wb3J0IHsgQXdzU29sdXRpb25zQ2hlY2tzIH0gZnJvbSAnY2RrLW5hZydcbmltcG9ydCB7IEFzcGVjdHMgfSBmcm9tICdhd3MtY2RrLWxpYic7XG5cbmNvbnN0IHBhcmFtcyA9IEpTT04ucGFyc2UocmVhZEZpbGVTeW5jKHJlc29sdmUoX19kaXJuYW1lLCAnLi4vJywgJ3BhcmFtZXRlcnMuanNvbicpKS50b1N0cmluZygpKTtcblxuZXhwb3J0IGNvbnN0IGFwcCA9IG5ldyBjZGsuQXBwKCk7XG5jb25zdCBxdWV1ZVN0YWNrID0gbmV3IFF1ZXVlU3RhY2soYXBwLCAncXVldWUtc3RhY2snLCB7XG4gIHBhcmFtczogcGFyYW1zLFxuICBlbnY6IHsgYWNjb3VudDogcGFyYW1zW1wiYWNjb3VudFwiXSwgcmVnaW9uOiBwYXJhbXNbXCJyZWdpb25cIl0gfSxcbn0pO1xuXG5Bc3BlY3RzLm9mKGFwcCkuYWRkKG5ldyBBd3NTb2x1dGlvbnNDaGVja3MoeyB2ZXJib3NlOiB0cnVlIH0pKVxuXG5jZGsuVGFncy5vZihxdWV1ZVN0YWNrKS5hZGQoJ0tpdElkJywgcGFyYW1zW1wia2l0SWRcIl0pO1xuY2RrLlRhZ3Mub2YocXVldWVTdGFjaykuYWRkKCdBcHBLZXknLCBwYXJhbXNbXCJhcHBLZXlcIl0pO1xuY2RrLlRhZ3Mub2YocXVldWVTdGFjaykuYWRkKCdDcmVhdGVkQnknLCBwYXJhbXNbXCJidXNpbmVzc05hbWVcIl0pO1xuIl19